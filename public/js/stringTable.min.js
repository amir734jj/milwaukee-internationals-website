!function(r){function t(r,t,n,e,o,u){for(var a=[],f=[],i=0;i<t.length;++i)!function(t,o){var u=r[t],i=(n[t]||e[typeof u]||d)(u,t);i&&"object"==typeof i?(u=i.value,i.format&&i.format.color&&(u=u[i.format.color]),f.push(i.format)):(u=i,f.push(null)),a.push(u)}(t[i]);o.push(a),u.push(f)}function n(r,t){var n=Array.prototype.slice.call(r,0);if(t)for(var e=0;e<n.length;++e)n[e]=f(n[e]);return n}function e(r,t){return v(t,r)}function o(r,t){for(var n,e=0,o=0;o<r.length;++o){n=String(r[o][t]).split("\n");for(var u=0;u<n.length;++u)e=Math.max(e,h(n[u]))}return e}function u(r){for(var t=1,n=0;n<r.length;++n)t=Math.max(t,c(String(r[n])));return t}function a(r,t){return r[1]&&typeof r[1][t]}function f(r){return r?r.charAt(0).toUpperCase()+r.substring(1):r}function i(r,t,n,e){var o=t-h(r);switch(e&&e.alignment||("number"===n?"right":"left")){case"right":return s(r,o);case"left":default:return g(r,o)}}function h(r){return String(r).replace(/\u001b\[\d{1,2}m?/g,"").length}function l(r,t){for(var n=0,e=r.indexOf(t);-1!==e;)++n,e=r.indexOf(t,e+t.length);return n}function c(r){return l(r,"\n")+1}function g(r,t){return r+p(" ",t)}function s(r,t){return p(" ",t)+r}function p(r,t){return new Array(t+1).join(r)}function v(r,t){if(t<r.length)return r.substring(0,t);for(var n=r;2*n.length<t;)n+=n;return n+=n.substring(0,t-n.length)}function d(r){return r}var m={create:function(r,f){if(!r||0===r.length)return"";for(var l=(f=f||{}).headers||Object.keys(r[0]),c=f.outerBorder||"|",g=f.innerBorder||"|",s=f.headerSeparator||"-",p=f.rowSeparator,v=f.capitalizeHeaders||!1,d=f.formatters||{},m=f.typeFormatters||{},y=[n(l,v)],b=[],S=0;S<r.length;++S)t(r[S],l,d,m,y,b);for(var j=2*h(c)+h(g)*(l.length-1)+2*l.length,x=[],S=0;S<y[0].length;++S)!function(r){var t=o(y,r);x.push(t),j+=t}(S);for(var w=[],S=0;S<y[0].length;++S)w.push(a(y,S));for(var A=[],S=0;S<y.length;++S)!function(r,t){for(var n,o=u(r),a=[],f=0;f<r.length;++f)a.push(String(r[f]).split("\n"));for(var h=0;h<o;++h){n=[];for(var l=0;l<r.length;++l)!function(r,t,e,o){var u=a[l];n.push(i(u[h]||"",t,e,o))}(r[l],x[l],w[l],S>0&&t[l]);A.push(c+" "+n.join(" "+g+" ")+" "+c)}p&&S>0&&S<y.length-1&&A.push(e(j,p)),0===S&&A.push(e(j,s))}(y[S],b[S-1]);return A.join("\n")},utils:{padLeft:g,padRight:s,repeat:p,repeatToLength:v}};r.exports=r.stringTable=m}("undefined"!=typeof module?module:this);